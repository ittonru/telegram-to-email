# Telegram Email Forwarder Bot

Этот бот пересылает сообщения и файлы из Telegram на указанный email адрес.

## Возможности

- Пересылка текстовых сообщений на email
- Пересылка файлов (документы, фото, видео, аудио, голосовые сообщения)
- Сохранение форматирования текста и ссылок
- Авторизация пользователей (опционально)
- Управление списком авторизованных пользователей через команды бота

## Настройка

1. Клонируйте репозиторий:
```bash
git clone https://github.com/ittonru/telegram-to-email.git
cd telegram-email-forwarder
```

2. Установите зависимости:
```bash
pip install -r requirements.txt
```

3. Создайте файл `.env` на основе `.env.example` и заполните его своими данными:
```bash
cp .env.example .env
nano .env  # или любой другой текстовый редактор
```

4. Запустите бота:
```bash
python bot.py
```

## Настройка авторизации пользователей

По умолчанию авторизация отключена. Чтобы включить её:

1. Установите `USE_AUTHORIZATION=True` в файле `.env`
2. При первом запуске бота с включенной авторизацией, вам нужно добавить себя как администратора:
   - Временно отключите авторизацию (`USE_AUTHORIZATION=False`)
   - Запустите бота
   - Используйте команду `/addadmin YOUR_USER_ID`
   - Снова включите авторизацию (`USE_AUTHORIZATION=True`)

## Команды администратора

- `/adduser <user_id>` - добавить пользователя в список авторизованных
- `/removeuser <user_id>` - удалить пользователя из списка авторизованных
- `/addadmin <user_id>` - добавить пользователя в список администраторов
- `/removeadmin <user_id>` - удалить пользователя из списка администраторов
- `/listusers` - показать список авторизованных пользователей и администраторов

## Настройка для Gmail

Если вы используете Gmail, вам нужно:

1. Включить двухфакторную аутентификацию в настройках Google
2. Создать пароль приложения: https://myaccount.google.com/apppasswords
3. Использовать этот пароль приложения вместо обычного пароля в настройках бота
```

Теперь ваш проект имеет следующую структуру:
1. `config.py` - файл с настройками
2. `bot.py` - основной код бота
3. `.env.example` - пример файла с переменными окружения
4. `requirements.txt` - список зависимостей
5. `README.md` - инструкции по настройке и использованию

Для использования переменных окружения из файла `.env`, вы можете добавить в начало `config.py`:

```python
# В начало config.py
try:
    from dotenv import load_dotenv
    load_dotenv()  # загружаем переменные окружения из .env файла
except ImportError:
    pass  # если python-dotenv не установлен, просто продолжаем
